(()=>{"use strict";const e=t=>("children"in t?t.children.map((t=>e(t))):[t]).flat();figma.showUI(__html__,{width:400,height:600});const t=()=>{const t=(()=>{const t=figma.currentPage.selection.reduce(((t,i)=>[...t,...e(i)]),[]).filter((e=>"TEXT"===e.type)).reduce(((e,t)=>{var i,n,o,l,d,m;if(t.textStyleId===figma.mixed||t.fontSize===figma.mixed||t.lineHeight===figma.mixed){const o={textStyleId:"mixed",textStyleName:"mixed",fontSize:"mixed",lineHeight:"mixed",nodes:[...null!==(n=null===(i=e.mixed)||void 0===i?void 0:i.nodes)&&void 0!==n?n:[],t.id]};return Object.assign(Object.assign({},e),{mixed:o})}const a=String(t.fontSize),r=t.lineHeight;var s;const g=`${"AUTO"===r.unit?"Auto":(s=r.value,Math.round(s*Math.pow(10,2))/Math.pow(10,2))}${"AUTO"===r.unit?"":"PERCENT"===r.unit?"%":"px"}`,x=t.textStyleId?t.textStyleId:`${a}:${g}`,u=t.textStyleId&&null!==(l=null===(o=figma.getStyleById(String(t.textStyleId)))||void 0===o?void 0:o.name)&&void 0!==l?l:"",S={textStyleId:String(t.textStyleId),textStyleName:u,fontSize:a,lineHeight:g,nodes:[...null!==(m=null===(d=e[String(x)])||void 0===d?void 0:d.nodes)&&void 0!==m?m:[],t.id]};return Object.assign(Object.assign({},e),{[x]:S})}),{});return Object.fromEntries(Object.entries(t).sort((([e,t],[i,n])=>"mixed"===t.fontSize?-1:"mixed"===n.fontSize?1:0)).sort((([e,t],[i,n])=>"mixed"===t.textStyleName||"mixed"===n.textStyleName?0:t.textStyleName<n.textStyleName?-1:t.textStyleName>n.textStyleName?1:0)).sort((([e,t],[i,n])=>"mixed"===t.lineHeight||"mixed"===n.lineHeight?0:Number(t.lineHeight)<Number(n.lineHeight)?-1:Number(t.lineHeight)>Number(n.lineHeight)?1:0)).sort((([e,t],[i,n])=>"mixed"===t.fontSize||"mixed"===n.fontSize?0:Number(t.fontSize)<Number(n.fontSize)?-1:Number(t.fontSize)>Number(n.fontSize)?1:0)))})();figma.ui.postMessage({type:"init",table:t})};t(),figma.on("selectionchange",(()=>{t()})),figma.ui.onmessage=e=>{"select-text-node"===e.type&&((e,t)=>{var i,n,o;const l=null===(o=null===(n=null===(i=e[t])||void 0===i?void 0:i.nodes)||void 0===n?void 0:n.map((e=>figma.getNodeById(e))))||void 0===o?void 0:o.filter((e=>null!==e));l&&(figma.currentPage.selection=l,figma.viewport.scrollAndZoomIntoView(l))})(e.table,e.key)}})();